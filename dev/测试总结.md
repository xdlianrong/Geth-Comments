## experiment

### 1.基准

测试的软件环境，密码算法的基准

### 2.硬件设置

操作系统类型，内存大小，处理器型号（主频，内核数量），是否为虚拟化环境。

### 3.背景介绍

介绍交易类型（购币交易，转账交易），系统的优化方案。

### 4.交易大小

对比购币交易，转账交易交易的size；携带data字段后交易的size；原始Ethereum交易的size。这里的data可以指定一个合约。

| size | description          |
| ---- | -------------------- |
|      | Ethereum             |
|      | 购币交易             |
|      | 转账交易             |
|      | 购币交易（携带data） |
|      | 转账交易（携带data） |

### 5.TPS测试

#### 5.1 处理器核给定

给定cpu的核心数量，计算每秒交易数量，重复实验多次。

##### 5.1.1 交易

| TPS  | description            |
| ---- | ---------------------- |
|      | Ethereum               |
|      | 交易所处理发送购币交易 |
|      | 购币交易链上执行       |
|      | 交易所接受回执返回用户 |
|      | 用户发送转账信息       |
|      | 链上生成转账交易       |
|      | 转账交易链上执行       |
|      | 发送方接受交易回执     |
|      | 接收方接受交易回执     |

注：最后分别计算购币交易和转账交易总TPS。将购币与转账交易携带data（制定一个合约），重复上述操作。涉及链上的部分，需要开启国密重新测试分析。

##### 5.1.2 区块验证

变量1：区块内包含的交易数量取200,400,800

变量2：区块内包含的购币交易占总交易的0%，10%，25%，75%，100%。其余均为转账交易。

变量3：Elgamal模长度分别为256,512,1024bit

常量：挖矿难度值给定

操作：挖矿测试。测试打包区块的数量。重复测试多次。

#### 5.2 处理器核变化

改变CPU核心数量，计算不同核心数下不同交易的总TPS。画图观察线性增长趋势。

| TPS  | description                                                  | CPU数量 |
| ---- | ------------------------------------------------------------ | ------- |
|      | 购币交易（交易所发送+链上执行+交易所回执）                   | 1       |
|      | 转账交易（用户发送+链上交易生成+交易执行+发送方回执+接收方回执） | 1       |
|      | 购币交易（交易所发送+链上执行+交易所回执）                   | 2       |
|      | 转账交易（用户发送+链上交易生成+交易执行+发送方回执+接收方回执） | 2       |
|      | .......                                                      | ......  |

注：交易加入data字段（指定一个合约），重复上述操作。涉及链上的部分，需要开启国密重新测试分析。

### 6 算法测试

测试elgamal软硬件加解密的速度，对比总结硬件加速性能优化。